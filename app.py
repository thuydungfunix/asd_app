# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/111g4Y9gPHIAAj9kLa364qHwgfcbP3hWX
"""

import streamlit as st
import numpy as np
import joblib

# --- Load mÃ´ hÃ¬nh ---
model = joblib.load("logistic_asd_model.pkl")

st.set_page_config(page_title="SÃ ng lá»c Tá»± ká»· ngÆ°á»i lá»›n (ASD)", page_icon="ğŸ§ ")

# --- Giao diá»‡n chÃ­nh ---
st.title("ğŸ§  Há»‡ thá»‘ng SÃ ng lá»c Rá»‘i loáº¡n phá»• Tá»± ká»· (ASD) cho ngÆ°á»i lá»›n")
st.write("Tráº£ lá»i 10 cÃ¢u há»i sau Ä‘á»ƒ há»‡ thá»‘ng há»— trá»£ Ä‘Ã¡nh giÃ¡ nguy cÆ¡ ASD. Káº¿t quáº£ chá»‰ mang tÃ­nh há»— trá»£, khÃ´ng thay tháº¿ cháº©n Ä‘oÃ¡n y táº¿.")

# --- Danh sÃ¡ch cÃ¢u há»i ---
questions = [
    "1. Báº¡n cÃ³ thÃ­ch hoáº¡t Ä‘á»™ng má»™t mÃ¬nh hÆ¡n lÃ  vá»›i ngÆ°á»i khÃ¡c khÃ´ng?",
    "2. Báº¡n thÆ°á»ng gáº·p khÃ³ khÄƒn khi duy trÃ¬ cuá»™c trÃ² chuyá»‡n khÃ´ng?",
    "3. Báº¡n cÃ³ hay láº·p láº¡i cÃ¡c hÃ nh Ä‘á»™ng hoáº·c thÃ³i quen má»™t cÃ¡ch Ä‘á»u Ä‘áº·n khÃ´ng?",
    "4. Báº¡n cÃ³ cáº£m tháº¥y khÃ³ chá»‹u khi cÃ³ sá»± thay Ä‘á»•i nhá» trong thÃ³i quen hÃ ng ngÃ y?",
    "5. Báº¡n cÃ³ nháº¡y cáº£m vá»›i Ã¡nh sÃ¡ng, Ã¢m thanh hoáº·c káº¿t cáº¥u khÃ´ng?",
    "6. Báº¡n thÆ°á»ng khÃ³ hiá»ƒu cáº£m xÃºc hoáº·c Ã½ Ä‘á»‹nh cá»§a ngÆ°á»i khÃ¡c khÃ´ng?",
    "7. Báº¡n cÃ³ gáº·p khÃ³ khÄƒn khi pháº£i nhÃ¬n vÃ o máº¯t ngÆ°á»i khÃ¡c khÃ´ng?",
    "8. Báº¡n cÃ³ giá»i ghi nhá»› cÃ¡c chi tiáº¿t nhá» hoáº·c ngÃ y thÃ¡ng khÃ´ng?",
    "9. Báº¡n cáº£m tháº¥y khÃ´ng thoáº£i mÃ¡i trong cÃ¡c sá»± kiá»‡n xÃ£ há»™i hoáº·c nÆ¡i Ä‘Ã´ng ngÆ°á»i khÃ´ng?",
    "10. Báº¡n thÃ­ch lÃ m viá»‡c vá»›i mÃ¡y mÃ³c hoáº·c há»‡ thá»‘ng hÆ¡n lÃ  vá»›i con ngÆ°á»i?"
]

# --- Nháº­p dá»¯ liá»‡u ---
inputs = []
for q in questions:
    ans = st.radio(q, ['CÃ³', 'KhÃ´ng'], key=q)
    inputs.append(1 if ans == 'CÃ³' else 0)

# --- Dá»± Ä‘oÃ¡n ---
if st.button("ğŸ” Dá»± Ä‘oÃ¡n"):
    X_input = np.array(inputs).reshape(1, -1)
    pred = model.predict(X_input)[0]

    st.subheader("ğŸ“Š Káº¿t quáº£ sÃ ng lá»c:")
    if pred == 1:
        st.error("âš ï¸ Báº¡n cÃ³ dáº¥u hiá»‡u phÃ¹ há»£p vá»›i ngÆ°á»i cÃ³ nguy cÆ¡ Rá»‘i loáº¡n phá»• Tá»± ká»· (ASD).")
    else:
        st.success("âœ… Báº¡n hiá»‡n khÃ´ng cÃ³ dáº¥u hiá»‡u rÃµ rÃ ng liÃªn quan Ä‘áº¿n ASD.")



    # --- Gá»£i Ã½ tiáº¿p theo ---
    st.markdown("### ğŸ§­ Gá»£i Ã½ hÃ nh Ä‘á»™ng tiáº¿p theo:")
    if pred == 1:
        st.info("""
        ğŸ”¹ HÃ£y liÃªn há»‡ chuyÃªn gia tÃ¢m lÃ½ hoáº·c cÆ¡ sá»Ÿ y táº¿ Ä‘á»ƒ Ä‘Æ°á»£c tÆ° váº¥n ká»¹ lÆ°á»¡ng hÆ¡n.
        ğŸ”¹ Ghi chÃ©p láº¡i cÃ¡c biá»ƒu hiá»‡n thÆ°á»ng gáº·p trong cuá»™c sá»‘ng hÃ ng ngÃ y.
        ğŸ”¹ CÃ³ thá»ƒ tham kháº£o cÃ¡c tÃ i liá»‡u vá» ASD tá»« WHO, CDC hoáº·c cÃ¡c trung tÃ¢m há»— trá»£ trong nÆ°á»›c.
        """)
    else:
        st.success("""
        âœ… Báº¡n cÃ³ thá»ƒ yÃªn tÃ¢m á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i.
        ğŸ”¹ Viá»‡c phÃ¡t triá»ƒn ká»¹ nÄƒng xÃ£ há»™i vÃ  cáº£m xÃºc váº«n á»•n.
        ğŸ”¹ Náº¿u cÃ²n bÄƒn khoÄƒn, báº¡n cÃ³ thá»ƒ trao Ä‘á»•i thÃªm vá»›i chuyÃªn gia.
        """)

